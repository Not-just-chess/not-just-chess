<div class="col-10 center offset-1">
    <table id="chessboard">
        <tbody>
            <% [8,7,6,5,4,3,2,1].each do |row| %>
            <tr>
                <% (1..8).each do |col| %>
                <td data-x_position=<%=col %> data-y_position=
                    <%= row%>
                    class="
                    <%= @chess_piece.board_color(col, row)%>"
                    >
                      <%=link_to chess_piece_path(chess_piece: @chess_piece,
                        x_position: col, y_position: row), action: :update,method: :PUT do %>
                      <div class="disappear"></div>
                    <% end %>
                    <% render_piece(@game) %>
                    <% @pieces.each do |piece| %>
                    <% x = piece.x_position %>
                    <% y = piece.y_position %>
                    <% type = piece.type %>
                    <% if x == col && y == row %>
                    <div id="<%=piece.selected(piece, @chess_piece)%>">
                        <%= piece.htmlcode.html_safe %>
                    </div>
                    <% end %>
                    <% end %>
                </td>
                <% end %>
            </tr>
            <% end %>
        </tbody>
    </table>
</div>